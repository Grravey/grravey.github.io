<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>David & Suzy | Evening Among Pines</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            pine: '#0D2F28',
            fir: '#1F4C3F',
            dew: '#ECF5F2',
            fog: '#F8FBFA',
            sky: '#99BBCF',
            bark: '#5A4334',
          },
          fontFamily: {
            sans: ['Work Sans', 'Inter', 'system-ui', 'sans-serif'],
            serif: ['Playfair Display', 'Georgia', 'serif'],
          },
        },
      },
    };
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;600&family=Work+Sans:wght@300;400;500;600&display=swap" rel="stylesheet" />
</head>
<body class="bg-gradient-to-b from-dew via-fog to-white text-pine font-sans">
  <main class="mx-auto flex max-w-5xl flex-col gap-12 px-4 py-12 sm:px-8 sm:py-16">
    <section class="overflow-hidden rounded-[2.75rem] bg-white/85 p-8 shadow-lg sm:p-14">
      <div class="flex flex-col gap-10 lg:flex-row lg:items-start lg:gap-14">
        <div class="flex-1 space-y-6">
          <span class="inline-flex items-center gap-2 rounded-full bg-fir/10 px-4 py-1 text-xs uppercase tracking-[0.4em] text-fir">We tied the knot</span>
          <h1 class="font-serif text-4xl font-semibold sm:text-5xl">An Evening Among Pines</h1>
          <p class="text-base leading-relaxed text-pine/80">
            Dinner with David and Suzy to mark the start of married life. Small crowd, big smiles, cozy lighting, and the forest just outside the glass walls.
          </p>
          <div class="grid gap-4 text-sm text-pine/80 sm:grid-cols-3">
            <div class="rounded-3xl border border-sky/70 px-4 py-3">
              <p class="uppercase tracking-[0.3em] text-fir/80">Date</p>
              <p class="mt-2 font-medium">Saturday, Oct 12</p>
            </div>
            <div class="rounded-3xl border border-sky/70 px-4 py-3">
              <p class="uppercase tracking-[0.3em] text-fir/80">Time</p>
              <p class="mt-2 font-medium">Doors 5:30 Â· Dinner 6:30</p>
            </div>
            <div class="rounded-3xl border border-sky/70 px-4 py-3">
              <p class="uppercase tracking-[0.3em] text-fir/80">Place</p>
              <p class="mt-2 font-medium">Evergreen Conservatory</p>
            </div>
          </div>
        </div>
        <div class="flex-1">
          <div class="grid grid-cols-2 gap-4">
            <figure data-cycle-gallery class="col-span-2 overflow-hidden rounded-3xl border border-sky/60 bg-dew/70 shadow-sm">
              <img src="../IMG_3926.jpg" alt="David and Suzy smiling in the forest" class="h-full w-full object-cover" />
            </figure>
            <figure data-cycle-gallery class="overflow-hidden rounded-3xl border border-sky/60 bg-dew/70 shadow-sm">
              <img src="../IMG_0671.jpg" alt="Walk through the park" class="h-full w-full object-cover" />
            </figure>
            <figure data-cycle-gallery class="overflow-hidden rounded-3xl border border-sky/60 bg-dew/70 shadow-sm">
              <img src="../nerds.jpg" alt="Milkshake cheers" class="h-full w-full object-cover" />
            </figure>
          </div>
        </div>
      </div>
    </section>

    <section class="grid gap-8 rounded-[2.5rem] border border-sky/60 bg-white/80 p-8 shadow-sm sm:grid-cols-2 sm:p-12">
      <article class="space-y-3">
        <h2 class="font-serif text-2xl">Venue notes</h2>
        <p class="text-sm uppercase tracking-[0.3em] text-fir/80">The Greenhouse Room</p>
        <p class="text-base leading-relaxed text-pine/80">
          Enter through the conservatory doors on Cambie Street. Look for the lights strung along the pathway. Parking is underground; the SkyTrain is close by.
        </p>
      </article>
      <article class="space-y-3">
        <h2 class="font-serif text-2xl">Dress code</h2>
        <p class="text-sm uppercase tracking-[0.3em] text-fir/80">Forest evening</p>
        <p class="text-base leading-relaxed text-pine/80">
          Soft layers, deep greens, navy or charcoal, and shoes you can stroll in. Bring a wrap for the terrace toast.
        </p>
      </article>
    </section>

    <section id="rsvp" class="rounded-[2.5rem] bg-fir text-fog p-8 shadow-sm sm:flex sm:items-center sm:justify-between sm:gap-10 sm:p-12">
      <div class="space-y-3">
        <h2 class="font-serif text-2xl">RSVP</h2>
        <p class="text-sm uppercase tracking-[0.3em] text-sky/70">Please reply by 10 September</p>
        <p class="text-base leading-relaxed text-fog/90">Tell us who is coming, any dietary notes, and the song you want to hear.</p>
      </div>
      <div class="mt-5 flex flex-col gap-3 text-sm sm:mt-0 sm:w-56">
        <a href="mailto:davidandsuzydinner@gmail.com?subject=RSVP" class="inline-flex items-center justify-center rounded-full bg-fog px-5 py-3 font-medium text-fir transition hover:bg-dew">Email RSVP</a>
        <a href="https://forms.gle/placeholder" class="inline-flex items-center justify-center rounded-full border border-fog/80 px-5 py-3 font-medium text-fog transition hover:bg-fog/10">RSVP form</a>
      </div>
    </section>

    <section id="qna" class="grid gap-4 sm:grid-cols-2">
      <article class="rounded-3xl border border-sky/60 bg-white/90 p-6 shadow-sm">
        <h3 class="text-sm font-semibold text-fir">Can we bring kids?</h3>
        <p class="mt-2 text-sm leading-relaxed text-pine/80">We are keeping dinner adults-only so conversation flows. Nursing infants are welcome with notice.</p>
      </article>
      <article class="rounded-3xl border border-sky/60 bg-white/90 p-6 shadow-sm">
        <h3 class="text-sm font-semibold text-fir">Menu highlights?</h3>
        <p class="mt-2 text-sm leading-relaxed text-pine/80">Expect cedar-smoked salmon, grilled seasonal vegetables, fresh salads, and a dessert trio.</p>
      </article>
      <article class="rounded-3xl border border-sky/60 bg-white/90 p-6 shadow-sm">
        <h3 class="text-sm font-semibold text-fir">Registry?</h3>
        <p class="mt-2 text-sm leading-relaxed text-pine/80">Your presence is the gift. A small card basket and honeymoon coffee fund will be available.</p>
      </article>
      <article class="rounded-3xl border border-sky/60 bg-white/90 p-6 shadow-sm">
        <h3 class="text-sm font-semibold text-fir">Staying overnight?</h3>
        <p class="mt-2 text-sm leading-relaxed text-pine/80">We blocked rooms at the Fairview Loft Hotel and Gardenline B&amp;B. Mention the Dahlgren dinner for preferred rates.</p>
      </article>
    </section>

    <footer class="rounded-3xl border border-sky/60 bg-white/80 p-6 text-center text-sm text-pine/70 shadow-sm">
      <p>Need anything? Text David at <a href="tel:+17785551234" class="font-medium text-fir">(778) 555-1234</a> or Suzy at <a href="tel:+17785554321" class="font-medium text-fir">(778) 555-4321</a>.</p>
    </footer>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

      const containers = Array.from(document.querySelectorAll('[data-cycle-gallery]'));
      if (!containers.length) return;

      const displayImages = containers.map((container) => container.querySelector('img')).filter(Boolean);
      if (!displayImages.length) return;

      const assetNames = ['IMG_0671.jpg', 'IMG_3919.jpg', 'IMG_3926.jpg', 'IMG_3927.jpg', 'IMG_3936-edits.jpg', 'IMG_3936.jpg', 'nerds.jpg', 'image.png'];
      const getName = (src) => (src || '').split('/').pop() || '';
      const waitForImage = (img) => new Promise((resolve) => {
        if (img.complete) {
          resolve();
        } else {
          img.addEventListener('load', resolve, { once: true });
          img.addEventListener('error', resolve, { once: true });
        }
      });

      Promise.all(displayImages.map(waitForImage))
        .then(() => {
          const initialNames = displayImages.map((img) => getName(img.getAttribute('src')));
          const uniqueNames = Array.from(new Set([...initialNames, ...assetNames]));
          const preloadNames = uniqueNames.filter((name) => !initialNames.includes(name));
          const preloadImage = (name) => new Promise((resolve) => {
            const preload = new Image();
            preload.onload = preload.onerror = () => resolve(name);
            preload.src = `../${name}`;
          });
          return Promise.all(preloadNames.map(preloadImage)).then(() => ({ initialNames, uniqueNames }));
        })
        .then(({ initialNames, uniqueNames }) => {
          const sources = uniqueNames.map((name) => `../${name}`);
          if (!sources.length) return;

          const slots = displayImages.map((img, index) => {
            const container = img.closest('[data-cycle-gallery]');
            if (!container) return null;

            container.classList.add('relative');
            img.style.transition = 'opacity 1200ms ease-in-out';

            const overlay = img.cloneNode(true);
            overlay.style.position = 'absolute';
            overlay.style.inset = '0';
            overlay.style.opacity = '0';
            overlay.style.transition = 'opacity 1200ms ease-in-out';
            overlay.style.pointerEvents = 'none';
            overlay.setAttribute('aria-hidden', 'true');
            container.appendChild(overlay);

            const startName = initialNames[index] || initialNames[0] || uniqueNames[0];
            let currentIndex = sources.findIndex((src) => getName(src) === startName);
            if (currentIndex < 0) currentIndex = index % sources.length;

            return { img, overlay, currentIndex };
          }).filter(Boolean);

          if (!slots.length) return;

          const fadeDuration = 1200;
          const interval = 10000;

          const setOverlaySource = (slot, src, callback) => {
            if (slot.overlay.getAttribute('src') === src) {
              callback();
              return;
            }
            const handler = () => {
              slot.overlay.removeEventListener('load', handler);
              slot.overlay.removeEventListener('error', handler);
              callback();
            };
            slot.overlay.addEventListener('load', handler);
            slot.overlay.addEventListener('error', handler);
            slot.overlay.src = src;
            if (slot.overlay.complete) {
              handler();
            }
          };

          const advance = (slot) => {
            slot.currentIndex = (slot.currentIndex + 1) % sources.length;
            const nextSrc = sources[slot.currentIndex];
            setOverlaySource(slot, nextSrc, () => {
              slot.overlay.style.opacity = '1';
              slot.img.style.opacity = '0';
              window.setTimeout(() => {
                slot.img.src = nextSrc;
                slot.img.style.opacity = '1';
                slot.overlay.style.opacity = '0';
              }, fadeDuration);
            });
          };

          slots.forEach((slot, idx) => {
            setTimeout(() => {
              advance(slot);
              setInterval(() => advance(slot), interval);
            }, idx * interval);
          });
        })
        .catch(() => {});
    });
  </script>
</body>
</html>
